<div class="profile-container" *ngIf="user; else loader">
  <div class="profile-card">
    <div class="profile-header">
      <div class="avatar-placeholder" *ngIf="!user.profilkep_eleres">
        {{ user.nev.charAt(0) }}
      </div>
      <img *ngIf="user.profilkep_eleres" [src]="user.profilkep_eleres" class="profile-img">

      <h2>{{ user.nev }}</h2>
      <span class="badge" [ngClass]="user.szerep">{{ user.szerep === 'tanar' ? 'Mentor' : 'Mentee' }}</span>
    </div>

    <div class="profile-body">
      <div class="info-group">
        <label>Email c√≠m:</label>
        <p>{{ user.email }}</p>
      </div>

      <div class="info-group">
        <label>Iskola:</label>
        <p>{{ user.iskola_nev || 'Nincs megadva' }}</p>
      </div>

      <div class="info-group" *ngIf="user.szerep === 'tanar' && subjects.length > 0">
        <label>Oktatott tant√°rgyak:</label>
        <div class="subject-tags">
          <span class="subject-tag" *ngFor="let s of subjects">{{ s.nev }}</span>
        </div>
      </div>

      <div class="info-group" *ngIf="user.bemutatkozas">
        <label>Bemutatkoz√°s:</label>
        <p class="bio-text">{{ user.bemutatkozas }}</p>
      </div>
    </div>
    <div class="calendar-booking-section card" *ngIf="user?.szerep === 'tanar'">
      <div class="calendar-header">
        <h3>üìÖ Foglalhat√≥ id≈ëpontok</h3>
        <p class="helper-text">Kattints egy lila s√°vra az id≈ëpont lefoglal√°s√°hoz!</p>
      </div>

      <div class="calendar-wrapper">
        <full-calendar [options]="calendarOptions"></full-calendar>
      </div>
    </div>

    <div class="profile-footer">
      <button class="msg-btn" (click)="goToChat(user.id)">√úzenet k√ºld√©se</button>
      <button class="back-btn" (click)="goBack()">Vissza</button>
    </div>
  </div>
</div>

<ng-template #loader>
  <div class="loader">Profil bet√∂lt√©se...</div>
</ng-template>