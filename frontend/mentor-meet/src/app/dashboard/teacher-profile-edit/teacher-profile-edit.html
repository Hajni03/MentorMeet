<div class="profile-edit-wrapper">
  <div class="profile-grid">
    
    <div class="glass-card left-column">
      <h3>üë§ Szem√©lyes adatok</h3>
      
      <div class="avatar-section">
        <div class="avatar-preview">
          <img [src]="currentUser?.profilkep_eleres || 'assets/images/profilkep_placeholder.jpg'" alt="Avatar">
          <label for="file-upload" class="upload-label">
            üì∏
          </label>
        </div>
        <input id="file-upload" type="file" (change)="onFileSelected($event)" accept="image/*" hidden>
        <p class="upload-text">Profilk√©p m√≥dos√≠t√°sa</p>
      </div>

      <div class="form-grid">
        <div class="input-group">
          <label>Telefonsz√°m</label>
          <input type="text" [(ngModel)]="currentUser.telefonszam" placeholder="+36 30 123 4567">
        </div>
        <div class="input-group">
          <label>Sz√ºlet√©si d√°tum</label>
          <input type="date" [(ngModel)]="currentUser.szuletes_datum">
        </div>
        <div class="input-group full-width">
          <label>Bemutatkoz√°s (Bio)</label>
          <textarea [(ngModel)]="currentUser.bemutatkozas" rows="5" placeholder="Mes√©lj magadr√≥l p√°r mondatban..."></textarea>
        </div>
      </div>

      <button (click)="saveDetails()" class="btn-save">Adatok ment√©se</button>
    </div>

    <div class="glass-card right-column">
      <h3>üìö Oktatott tant√°rgyak</h3>
      <p class="section-desc">Add meg, mely t√°rgyakb√≥l tudsz seg√≠teni a di√°koknak.</p>
      
      <div class="add-subject-box">
        <select [(ngModel)]="selectedSubjectId" class="modern-select">
          <option value="" disabled selected>Tant√°rgy v√°laszt√°sa...</option>
          <option *ngFor="let s of allSubjects" [value]="s.id">{{s.nev}}</option>
        </select>
        <button (click)="addSubject()" class="btn-add">Hozz√°ad√°s</button>
      </div>

      <div class="subject-tags">
        <div *ngFor="let sub of mySubjects" class="tag">
          {{sub.nev}}
          <span class="remove" (click)="deleteSubject(sub.tantargy_id || sub.id)">‚úï</span>
        </div>
      </div>

      <div class="empty-info" *ngIf="mySubjects.length === 0">
        <p>‚ö†Ô∏è Legal√°bb egy tant√°rgyat meg kell adnod a napt√°r haszn√°lat√°hoz!</p>
      </div>
      
      <div class="dashboard-link-box">
         <button routerLink="/teacher-dashboard" class="btn-dash" [disabled]="mySubjects.length === 0">
           Tov√°bb a napt√°ramhoz ‚Üí
         </button>
      </div>
    </div>

  </div>
</div>